<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Задачки, для прокачки</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        margin: 0 auto;
        padding: 15px;
        max-width: 800px;
        font-family: monospace;
        font-size: 1.3rem;
        background: #333;
        color: #fff;
      }
    </style>
  </head>

  <body>
    [1, 23, 12, 3, 32, 4, 23, 4] <br />
    1 - посчитать сумму <br />
    2 - максимум и минимум <br />
    3 - разница между макс и мин <br />
    4 - сколько каких элементов <br />
    5 - проверка на наличие элемента <br />
    6 - количество конкретных (см.4) <br />
    7 - массив уникальных элементов <br />
    8 - количество первых повторяющихся элементов <br />
    9 - реверсировать знак положительности элементов <br />
    10 - вернуть массив N элементов начиная с X элемента <br />
    11 - первых три и последних три элемента массива вывести в один массив
    <br />
    <br />
    "строка стринг string" <br />
    - количество слов <br />
    - количество символов в словах <br />
    - количество символов с большой буквы <br />
    - сделать из слов аббривиатуру <br />
    - сделать камел кейс из строки <br />
    - сделать функцию которая принимает строку и массив символов, которые должны
    стать заглавными в строке <br />
    - вывести массив слов с заглавными буквами <br />
    - напишите функцию, которая возвращает первый повторяющийся символ в строке
    <br />
    <br />
    DOM <br />
    - найти сумму значений атребута data-value тега li <br />
    ul id = list <br />
    li data-value = 1 <br />
    li data-value = 2 <br />
    li data-value = 3 <br />
    - делегирование событий, остановка всплытия <br />
    - создать, вставить, клонировать, удалить элемент li в ul <br />
    <br />
    вопрос статические методы объекта JS <br />
    data value <br />

    <section class="array">
      <h2>array</h2>

      <!-- 1 -->

      <section class="array__task task">
        <h3>1 - посчитать сумму</h3>
        <input type="text" class="task__1" value="1, 23, 12, 3, 32, 4, 23, 4" />
        <script>
          const arrayTask1 = () => {
            const element = document.querySelector(".array__task .task__1");
            const div = document.createElement("div");
            element.after(div);
            element.addEventListener("change", getResult);

            function getResult() {
              const result = element.value
                .replace(/-/g, " -")
                .split(/[^-0-9]/)
                .reduce((a, b) => Number(a) + Number(b));
              div.innerHTML = ` Sum: ${result}`;
            }
            getResult();
          };
          arrayTask1();
        </script>
      </section>

      <!-- 2 3 -->

      <section class="array__task task">
        <h3>2 - максимум и минимум + 3 - разница между макс и мин</h3>
        <input
          type="text"
          class="task__2 task__3"
          value="-1 23 -12 3 32 4 23 4"
        />
        <script>
          const arrayTask2 = () => {
            const element = document.querySelector(".array__task .task__2");
            const div = document.createElement("div");
            element.after(div);
            element.addEventListener("change", getResult);

            function getResult() {
              const result = element.value
                .replace(/-/g, " -")
                .split(/[^-0-9]/)
                .reduce(
                  ({ max, min }, cur) => {
                    if (max < Number(cur)) max = cur;
                    if (min > Number(cur)) min = cur;
                    return {
                      max,
                      min
                    };
                  },
                  {
                    max: 0,
                    min: 0
                  }
                );
              div.innerHTML = ` 
              min:${result.min}, 
              max:${result.max}, 
              difference:${result.max - result.min}`;
            }
            getResult();
          };
          arrayTask2();
        </script>
      </section>

      <!-- 4 -->

      <section class="array__task task">
        <h3>4 - сколько каких элементов</h3>
        <input type="text" class="task__4" value="-1 23 -12 3 32 4 23 4" />
        <script>
          const task__4 = () => {
            const element = document.querySelector(".array__task .task__4");
            const div = document.createElement("div");
            element.after(div);
            element.addEventListener("change", getResult);

            function getResult() {
              const arr = element.value.replace(/-/g, " -").split(/[^-0-9]/);
              const amount = {};

              arr.reduce((prev, cur) => {
                if (cur) {
                  !amount[cur] ? (amount[cur] = 1) : (amount[cur] += 1);
                }
              }, amount);

              const keys = Object.keys(amount);
              keys.sort((a, b) => a - b);

              const fragment = document.createDocumentFragment();
              keys.map(key => {
                const li = document.createElement("li");
                li.textContent = `${key} = ${amount[key]}`;
                fragment.appendChild(li);
              });
              div.innerHTML = ``;
              div.appendChild(fragment);
            }
            getResult();
          };
          task__4();
        </script>
      </section>

      <!-- 5 -->

      <section class="array__task task">
        <h3>5 - проверка на наличие элемента</h3>
        <input
          type="text"
          class="task__5 task__5--array"
          value="-1 23 -12 3 32 4 23 4"
        />
        <input type="text" class="task__5 task__5--search" value="-12" />

        <script>
          const task__5 = () => {
            const inputArray = document.querySelector(
              ".array__task .task__5--array"
            );
            const inputSearch = document.querySelector(
              ".array__task .task__5--search"
            );

            const div = document.createElement("div");
            inputSearch.after(div);

            inputArray.addEventListener("change", getResult);
            inputSearch.addEventListener("change", getResult);

            function getResult() {
              const arr = inputArray.value.replace(/-/g, " -").split(/[^-0-9]/);
              const amount = {};
              const find = arr.find(item => item === inputSearch.value);
              div.innerHTML = ` ${!!find ? "есть элемент" : "нет элемента"}`;
            }
            getResult();
          };
          task__5();
        </script>
      </section>

      <!-- 6 - количество конкретных (см.4)-->

      <!-- 7 -->

      <section class="array__task task">
        <h3>7 - массив уникальных элементов</h3>
        <input
          type="text"
          class="task__7 task__7--array"
          value="-1 23 -12 3 32 4 23 4 0 0 0 1"
        />

        <script>
          const task__7 = () => {
            const inputArray = document.querySelector(
              ".array__task .task__7--array"
            );

            const div = document.createElement("div");
            inputArray.after(div);

            inputArray.addEventListener("change", getResult);

            function getResult() {
              const arr = inputArray.value.replace(/-/g, " -").split(/[^-0-9]/);
              const set = new Set(arr.filter(item => !!item));
              div.innerHTML = `${[...set].join(" ")} - уникальные значения`;
            }
            getResult();
          };
          task__7();
        </script>
      </section>

      <!-- 8 -->

      <section class="array__task task">
        <h3>8 - количество первых повторяющихся элементов</h3>
        <input
          type="text"
          class="task__8 task__8--array"
          value="-1 23 -12 3 32 4 23 4 0 0 0 1"
        />

        <script>
          const task__8 = () => {
            const inputArray = document.querySelector(
              ".array__task .task__8--array"
            );

            const div = document.createElement("div");
            inputArray.after(div);

            inputArray.addEventListener("change", getResult);

            function getResult() {
              const arr = inputArray.value.replace(/-/g, " -").split(/[^-0-9]/);
              let amount = {};
              arr.find(cur => {
                if (cur) {
                  const count = arr.filter(item => item === cur);
                  if (count.length > 1) {
                    amount = {
                      [cur]: count.length
                    };
                    return true;
                  }
                }
              }, amount);

              div.innerHTML = `
              ${Object.keys(amount)} : 
              ${Object.values(amount)} 
              - количество первых повторяющихся элементов`;
            }
            getResult();
          };
          task__8();
        </script>
      </section>

      <!-- 9 -->

      <section class="array__task task">
        <h3>9 - реверсировать знак положительности элементов</h3>
        <input
          type="text"
          class="task__9 task__9--array"
          value="-1 23 -12 3 32 4 23 4 0 0 0 1"
        />

        <script>
          (function task__9() {
            const inputArray = document.querySelector(
              ".array__task .task__9--array"
            );

            const div = document.createElement("div");
            inputArray.after(div);

            inputArray.addEventListener("change", getResult);

            function getResult() {
              const arr = inputArray.value
                .replace(/-/g, " -")
                .split(/[^-0-9]/)
                .filter(item => item != "")
                .map(item => -item)
                .join(" ");
              div.innerHTML = `${arr} - реверс элементов`;
            }
            getResult();
          })();
        </script>
      </section>
    </section>
  </body>
</html>
